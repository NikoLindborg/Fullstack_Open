{"version":3,"sources":["components/Contact.js","components/PersonForm.js","components/FilterForm.js","services/phoneservice.js","components/Notification.js","App.js","index.js"],"names":["Contact","props","contact","name","number","onClick","remove","PersonForm","onSubmit","addPerson","value","newName","onChange","handleNameChange","newNumber","handleNumberChange","type","FilterForm","addFilter","filter","handleFilterChange","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Notification","message","error","className","App","useState","persons","setPersons","setNewName","setNewNumber","showAll","setShowAll","setFilter","filteredList","setList","errorMessage","setErrorMessage","errorOrNot","setErrorValue","useEffect","phoneService","initialPersons","deletePerson","person","console","log","window","confirm","setTimeout","n","catch","e","contactsToShow","preventDefault","lowerList","map","el","toLowerCase","lowerFilter","filteredLowerList","includes","splice","length","concat","target","personObject","returnedPerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.be443e42.chunk.js","sourcesContent":["import React from 'react'\n\n\n\nconst Contact = props => {\n  return (\n    <div>\n      <p>{props.contact.name} {props.contact.number}</p>\n      <button onClick={() => props.remove(props.contact)}>delete</button> \n    </div>\n  )\n}\n\nexport default Contact","import React from 'react'\n\nconst PersonForm = (props) => (\n  <form onSubmit={props.addPerson}>\n      <div>\n        name: <input\n          value={props.newName} \n          onChange={props.handleNameChange}\n        />\n        </div>\n        <div>\n        number: <input\n          value={props.newNumber}\n          onChange={props.handleNumberChange}\n        />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n)\n    \n\nexport default PersonForm","import React from 'react'\n\nconst FilterForm = props => (\n    <form onSubmit={props.addFilter}>\n        <div>\n            filter shown with <input\n            value={props.filter}\n            onChange={props.handleFilterChange}\n            />  \n            <button type=\"submit\">add filter</button>\n        </div>\n    </form>\n)   \n\nexport default FilterForm\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n  }\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nexport default { \n  getAll, \n  create, \n  update,\n  remove\n}","import React from 'react'\n\nconst Notification = ({ message, error }) => {\n  if (message === null) {\n    return null\n  }\n\n  if(error){\n    return (\n      <div className=\"error\">\n        {message}\n      </div>\n    )\n  }\n  return (\n    <div className=\"success\">\n      {message}\n    </div>\n  )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Contact from './components/Contact'\nimport PersonForm from './components/PersonForm'\nimport FilterForm from './components/FilterForm'\nimport phoneService from './services/phoneservice'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [showAll, setShowAll] = useState(true)\n  const [filter, setFilter] = useState('')\n  const [filteredList, setList] = useState([{}])\n  const [errorMessage, setErrorMessage] = useState(null)\n  const [errorOrNot, setErrorValue] = useState(false)\n\n  useEffect(() => {\n    phoneService\n      .getAll()\n        .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const addPerson = (e) => {\n    e.preventDefault()\n    const personObject = {    \n      name: newName,\n      number: newNumber\n    }\n    if(persons.map(e => e.name).includes(personObject.name)){\n      if(window.confirm(`${newName} is already added to the phonebook, replace the old number with the new one?`)){\n        const person = persons.filter(e => e.name === newName)\n        console.log(person)\n        phoneService\n          .update(person[0].id, personObject)\n            .then(returnedPerson => {\n              setPersons(persons.map(e => e.id !== person[0].id ? e : returnedPerson))\n              setErrorMessage(\n                `Updated phonenumber for ${newName}`\n              )\n              setErrorValue(false)\n              setTimeout(() => {\n                setErrorMessage(null)\n              }, 5000)\n            }) .catch(e => {\n              setErrorMessage(\n                `Information of ${newName} has already been removed from sever`\n              )\n              setErrorValue(true)\n              setTimeout(() => {\n                setErrorMessage(null)\n              }, 5000)\n            })\n      }\n      return null\n    }\n    phoneService\n      .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setErrorMessage(\n            `Added ${newName}`\n          )\n          setErrorValue(false)\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n          setNewName('')\n      })\n      .catch(error => {\n        console.log(error.response.data)\n        setErrorMessage(\n          `${error.response.data.error}`\n        )\n        setErrorValue(true)\n      })\n  }\n  \n  const addFilter = (e) => {\n    e.preventDefault()\n    if(showAll) {\n      console.log('changed')\n      setShowAll(!showAll)\n    }\n    const lowerList = persons.map(el => el.name).map(el => el.toLowerCase())\n\n    const lowerFilter = filter.toLowerCase()\n    const filteredLowerList = lowerList.filter(el => el.includes(lowerFilter))\n\n    setList(filteredList.splice(0,filteredList.length))\n    setList(filteredList.concat(persons.filter(e => \n      filteredLowerList.includes(e.name.toLowerCase())\n    )))\n  \n  }\n  \n  const deletePerson = (person) => {\n    console.log(person)\n    if(window.confirm(`Delete ${person.name}?`)){\n      phoneService\n        .remove(person.id)\n        .then( () => {\n          setErrorMessage(\n            `Deleted ${person.name}`\n          )\n          setErrorValue(false)\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n          setPersons(persons.filter(n => n.id !== person.id))\n        }).catch(e => {\n          setErrorMessage(\n            `Couldn't delete ${person.name}, perhaps he was already gone?`\n          )\n          setErrorValue(true)\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n        })\n\n    }\n  }\n\n  const handleNameChange = (e) => {\n    setNewName(e.target.value)\n  }\n  \n  const handleNumberChange = (e) => {\n    setNewNumber(e.target.value)\n  }\n\n  const handleFilterChange = (e) => {\n    setFilter(e.target.value)\n  }\n  const contactsToShow = showAll \n  ? persons\n  : filteredList\n\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={errorMessage} error={errorOrNot}/>\n      <FilterForm \n        addFilter={addFilter}\n        filter={filter}\n        handleFilterChange={handleFilterChange}\n      />\n      <button onClick={() => setShowAll(true)}>Remove filter</button>\n      <h3>Add a new</h3>\n        <PersonForm\n          addPerson={addPerson}\n          newName={newName}\n          handleNameChange={handleNameChange}\n          newNumber={newNumber}\n          handleNumberChange={handleNumberChange}\n        />\n      <h2>Numbers</h2>\n      <div>\n      {contactsToShow.map(person => \n            <Contact \n              key={person.name} \n              contact={person} \n              remove={deletePerson}\n            />\n          )}\n      </div>\n    </div>\n  )\n\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)"],"sourceRoot":""}